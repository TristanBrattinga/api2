{% layout "server/layouts/base.liquid" %}

{% block content %}

<section class="container detail-section">
    <aside>
        <nav>
            <a class="back-button" href="/">Back</a>
            <ul>
                <li>
                    <button class="favorite-button">
                        <svg width="18" height="18" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M29.8999 12.1612C29.7788 11.788 29.5506 11.4586 29.2436 11.2141C28.9367 10.9696 28.5646 10.8208 28.1737 10.7862L20.7499 10.1462L17.8399 3.22624C17.6884 2.86314 17.4329 2.55298 17.1054 2.33482C16.778 2.11665 16.3934 2.00024 15.9999 2.00024C15.6065 2.00024 15.2218 2.11665 14.8944 2.33482C14.567 2.55298 14.3114 2.86314 14.1599 3.22624L11.2587 10.1462L3.82618 10.79C3.43372 10.823 3.05974 10.9711 2.75113 11.2158C2.44251 11.4604 2.21301 11.7908 2.0914 12.1654C1.96978 12.54 1.96147 12.9421 2.0675 13.3214C2.17353 13.7007 2.38919 14.0403 2.68743 14.2975L8.32618 19.225L6.63618 26.5425C6.54682 26.9254 6.57232 27.3262 6.70949 27.6947C6.84666 28.0632 7.08943 28.3831 7.40742 28.6144C7.72542 28.8457 8.10455 28.9782 8.4974 28.9951C8.89025 29.0121 9.27939 28.913 9.61618 28.71L15.9912 24.835L22.3799 28.71C22.7167 28.913 23.1059 29.0121 23.4987 28.9951C23.8916 28.9782 24.2707 28.8457 24.5887 28.6144C24.9067 28.3831 25.1494 28.0632 25.2866 27.6947C25.4238 27.3262 25.4493 26.9254 25.3599 26.5425L23.6712 19.2175L29.3087 14.2975C29.6069 14.0394 29.8221 13.6989 29.9273 13.3188C30.0325 12.9387 30.023 12.5359 29.8999 12.1612ZM27.9974 12.7862L22.3599 17.7062C22.0856 17.9449 21.8814 18.2539 21.7696 18.5999C21.6577 18.9459 21.6422 19.3159 21.7249 19.67L23.4187 27L17.0349 23.125C16.7235 22.9353 16.3658 22.835 16.0012 22.835C15.6365 22.835 15.2789 22.9353 14.9674 23.125L8.59243 27L10.2749 19.675C10.3576 19.3209 10.3422 18.9509 10.2303 18.6049C10.1184 18.2589 9.9143 17.9499 9.63993 17.7112L3.99993 12.7937C3.99947 12.79 3.99947 12.7862 3.99993 12.7825L11.4299 12.14C11.7927 12.108 12.1398 11.9776 12.4339 11.7628C12.728 11.5481 12.9578 11.2571 13.0987 10.9212L15.9999 4.00999L18.8999 10.9212C19.0408 11.2571 19.2706 11.5481 19.5647 11.7628C19.8588 11.9776 20.2059 12.108 20.5687 12.14L27.9999 12.7825C27.9999 12.7825 27.9999 12.79 27.9999 12.7912L27.9974 12.7862Z" fill="#343330"/>
                        </svg>
                    </button>
                </li>
                <li>
                    <button class="share-button">
                        <svg width="18" height="18" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M22.0001 20C21.333 19.9998 20.6726 20.1334 20.0581 20.393C19.4436 20.6526 18.8875 21.0328 18.4226 21.5112L12.6601 17.8075C13.1133 16.6451 13.1133 15.3548 12.6601 14.1925L18.4226 10.4887C19.2881 11.3754 20.4521 11.909 21.6888 11.9863C22.9255 12.0635 24.1468 11.6787 25.1159 10.9067C26.085 10.1346 26.733 9.03013 26.9341 7.80746C27.1352 6.58479 26.8751 5.33101 26.2043 4.28919C25.5335 3.24737 24.4998 2.49173 23.3035 2.16879C22.1073 1.84584 20.8337 1.97859 19.7297 2.54129C18.6258 3.104 17.7701 4.05658 17.3286 5.21434C16.887 6.3721 16.8911 7.65256 17.3401 8.80748L11.5776 12.5112C10.8836 11.7988 9.99304 11.3095 9.0196 11.1059C8.04617 10.9023 7.03412 10.9936 6.11284 11.3681C5.19155 11.7426 4.40289 12.3834 3.84765 13.2085C3.29242 14.0336 2.99585 15.0055 2.99585 16C2.99585 16.9945 3.29242 17.9664 3.84765 18.7915C4.40289 19.6166 5.19155 20.2573 6.11284 20.6319C7.03412 21.0064 8.04617 21.0977 9.0196 20.894C9.99304 20.6904 10.8836 20.2011 11.5776 19.4887L17.3401 23.1925C16.954 24.1881 16.8969 25.2812 17.177 26.3117C17.4572 27.3422 18.0599 28.2559 18.8969 28.919C19.734 29.5822 20.7613 29.9599 21.8285 29.997C22.8958 30.034 23.9468 29.7284 24.8278 29.1248C25.7088 28.5213 26.3734 27.6516 26.7243 26.643C27.0752 25.6344 27.0939 24.54 26.7778 23.5199C26.4617 22.4999 25.8274 21.6079 24.9676 20.9745C24.1079 20.3411 23.0679 19.9996 22.0001 20ZM22.0001 3.99998C22.5934 3.99998 23.1734 4.17592 23.6668 4.50557C24.1601 4.83521 24.5446 5.30375 24.7717 5.85193C24.9988 6.4001 25.0582 7.0033 24.9424 7.58525C24.8267 8.16719 24.5409 8.70174 24.1214 9.1213C23.7018 9.54085 23.1673 9.82658 22.5853 9.94233C22.0034 10.0581 21.4002 9.99868 20.852 9.77161C20.3038 9.54455 19.8353 9.16003 19.5056 8.66669C19.176 8.17334 19.0001 7.59332 19.0001 6.99998C19.0001 6.20433 19.3161 5.44126 19.8787 4.87866C20.4413 4.31605 21.2044 3.99998 22.0001 3.99998ZM8.00006 19C7.40671 19 6.82669 18.824 6.33335 18.4944C5.84 18.1647 5.45548 17.6962 5.22842 17.148C5.00136 16.5998 4.94195 15.9966 5.0577 15.4147C5.17346 14.8328 5.45918 14.2982 5.87874 13.8787C6.29829 13.4591 6.83284 13.1734 7.41479 13.0576C7.99673 12.9419 8.59993 13.0013 9.14811 13.2283C9.69628 13.4554 10.1648 13.8399 10.4945 14.3333C10.8241 14.8266 11.0001 15.4066 11.0001 16C11.0001 16.7956 10.684 17.5587 10.1214 18.1213C9.55877 18.6839 8.79571 19 8.00006 19ZM22.0001 28C21.4067 28 20.8267 27.824 20.3333 27.4944C19.84 27.1647 19.4555 26.6962 19.2284 26.148C19.0014 25.5998 18.9419 24.9966 19.0577 24.4147C19.1735 23.8328 19.4592 23.2982 19.8787 22.8787C20.2983 22.4591 20.8328 22.1734 21.4148 22.0576C21.9967 21.9419 22.5999 22.0013 23.1481 22.2283C23.6963 22.4554 24.1648 22.8399 24.4945 23.3333C24.8241 23.8266 25.0001 24.4066 25.0001 25C25.0001 25.7956 24.684 26.5587 24.1214 27.1213C23.5588 27.6839 22.7957 28 22.0001 28Z" fill="#343330"/>
                        </svg>
                    </button>
                </li>
            </ul>
        </nav>
        <div>
            <img class="coin-logo" src="{{ coin.image.small }}" alt="{{ coin.name }} logo" width="24" />
            <h2 class="coin-name">{{ coin.name }}</h2>
            <p class="coin-symbol">{{ coin.symbol }}</p>
            <span class="coin-rank">#{{ coin.market_cap_rank }}</span>
        </div>
        <p class="coin-price">{{ coin.formatted_price }}</p>
        <ul class="coin-market-data">
            <li>
                <p>Market Cap</p>
                <p>{{ coin.formatted_market_cap }}</p>
            </li>
            <li>
                <p>Fully Diluted Valuation</p>
                <p>{{ coin.market_data.fully_diluted_valuation.usd }}</p>
            </li>
            <li>
                <p>24 Hour Trading Vol</p>
            </li>
            <li>
                <p>Circulating Supply</p>
                <p>{{ coin.market_data.circulating_supply }}</p>
            </li>
            <li>
                <p>Total Supply</p>
                <p>{{ coin.market_data.total_supply }}</p>
            </li>
            <li>
                <p>Max Supply</p>
                {% if coin.market_data.max_supply == null %}
                    <span>
                        {% include "server/icons/infinite.svg" %}
                    </span>
                {% else %}
                    <p>{{ coin.market_data.max_supply }}</p>
                {% endif %}
            </li>
        </ul>
        <h3>Info</h3>
        <ul class="coin-info-data">
            <li>
                <p>Website</p>
                <a class="button" href="{{ coin.links.homepage }}" target="_blank">{{ coin.formatted_website }}</a>
            </li>
            <li>
                <p>Source Code</p>
                <a class="button" href="{{ coin.links.repos_url.github[0] }}" target="_blank">
                    <span>{% include "server/icons/github.svg" %}</span>
                    <p>Github</p>
                </a>
            </li>
        </ul>
        <div class="converter">
            <label>
                <input type="number" id="cryptoAmount" value="1" min="0" step="any" />
                {{ coin.symbol | upcase }}
            </label>

            <label>
                <select id="currencySelect">
                    {% for cur in availableCurrencies %}
                        <option value="{{ cur }}" {% if cur == currency %}selected{% endif %}>{{ cur | upcase }}</option>
                    {% endfor %}
                </select>
            </label>

            <p>
                = <span id="convertedAmount">...</span>
            </p>
        </div>
    </aside>
    <section aria-labelledby="market-chart-title">
        <h2 id="market-chart-title" class="text-xl font-semibold mb-2">Market Chart (7d)</h2>
        <canvas id="myChart"></canvas>
        <h3>About</h3>
        <p>{{ coin.description.en }}</p>
    </section>
</section>

{% endblock %}